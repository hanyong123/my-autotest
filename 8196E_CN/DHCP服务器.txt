*** Settings ***
Suite Setup       打开浏览器
Suite Teardown    关闭浏览器
Resource          keyword.txt

*** Test Cases ***
tyr
    转到DHCP保留地址设置页面
    ${v}    Get Table Cell    xpath=//table[@class="df_tab"]    2    2
    Comment    DHCP保留地址列表第1行第2列是a

*** Keywords ***
验证DHCP服务器
    [Arguments]    ${startIp}    ${endIp}    ${message}
    设置DHCP服务器    ${startIp}    ${endIp}
    显示消息    ${message}

验证DHCP开始IP最大输入长度
    [Arguments]    ${startIp}    ${max_len}
    转到内网配置页面
    验证输入框最大输入长度    id=dhcp_start_ip    ${startIp}    ${max_len}

验证DHCP结束IP最大输入长度
    [Arguments]    ${startIp}    ${max_len}
    转到内网配置页面
    验证输入框最大输入长度    id=dhcp_end_ip    ${startIp}    ${max_len}

验证DHCP保留地址设置
    [Arguments]    ${des}    ${ip}    ${mac}    ${message}
    设置DHCP服务器保留地址    ${des}    ${ip}    ${mac}
    显示消息    ${message}

DHCP保留地址列表含有${string}
    Table Should Contain    xpath=//table[@class="df_tab"]    ${string}

DHCP保留地址列表第${row}行第${col}列是${string}
    ${row}    Evaluate    int(${row})+1
    ${v}    Get Table Cell    xpath=//table[@class="df_tab"]    ${row}    ${col}
    Should Be Equal    ${v}    ${string}

删除DHCP保留地址列表第${row}行并显示成功消息${message}
    Click Element    xpath=//div[@class="tab_del_btn"][${row}]
    显示消息    ${message}

修改DHCP保留地址列表第${row}行的规则名为${name}IP地址为${ip}MAC地址为${mac}并显示消息${message}
    Click Element    xpath=(//div[@class="tab_mod_btn"])[${row}]
    Sleep    2
    Input Text    id=descrip    ${name}
    Input Text    id=reserve_ip    ${ip}
    Input Text    id=reserve_mac    ${mac}
    Click Button    id=add_reservation
    显示消息    ${message}

删除DHCP保留地址列表所有行显示成功消息${message}
    Click Element    id=del_all_reservation
    Choose Ok On Next Confirmation
    ${message}    Confirm Action
    显示消息    ${message}

DHCP保留地址列表没有${string}
    Run Keyword And Expect Error    *    Table Should Contain    xpath=//table[@class="df_tab"]    ${string}
